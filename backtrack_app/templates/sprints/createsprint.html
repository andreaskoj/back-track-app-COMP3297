{% extends 'base.html' %}
{% block content %}

<div class="panel">
        <!-- <div id="createBtn" onclick="createBtnOnclick()"><p>Create New Sprint</p></div> -->
        
        <div id="creating" style="display: block;">
            <form></form>
            <div class="title">Create Sprint</div>

            <div id="notselected" class="thediv">
                <div class="title">Product Backlog</div>
                {% for pbi in pbi_list %}
                <div class="pbi" onclick="pbiselected(event)">PBI {{pbi.id}}
                    <span class="initEsti circle" style="float:right;">
                            {{pbi.estimated_efforts }}
                    </span>
                </div>

                {%empty%}
                <div>No PBI yet.</div>
                {% endfor %}

                

            </div>

            <div class="thediv">
                <div>Total Effort Avaliable: <input type="text" name="totalEf"></div>
                <div>Accumulated Effort time of PBIs:<p id="Accumulated"> </p></div>
                <div>Remained Effort Time:<p id="remained"> </p></div>

            </div>

        </form>
        </div>
</div>
{% endblock %}

{% block script %}
<script>
    var pbiSelIds = [];
        function createBtnOnclick(){
            document.getElementById("createBtn").style.display = "none";
            document.getElementById("creating").style.display = "block";
        }

        function pbiselected(ev){
            var cla = "selected";
            if(ev.target.classList.contains(cla)){
                ev.target.classList.remove(cla);
            }else{
                ev.target.classList.add(cla);
            }
        }
    </script>
{% endblock %}

{% block style %}
<style>
    #createBtn{
        margin-top: 255px;
        margin-left: auto;
        margin-right:auto;
        background-color:rgb(148, 73, 63);
        width: 200px;
        padding-top: 10px; 
        padding-left: 10px; 
        font-size: 20px;
        line-height: 20px;
        height: 40px;
        border: 1px solid black;
    }

    .thediv{
        float:left;
        margin-left:250px;
        width: 600px;
        height: 600px;
    }

    #nav-bar tr td:nth-child(4) {
    background-color: lightblue;
    }

    .pbi{
        width:200px;
        height:50px;
        border: 1px black solid;
        margin-left: 50px; 
        margin-top: 10px;
        margin-bottom: 20px;
        background: rgb(85, 189, 128);
    }

    .circle{
        height: 25px;
        width: 25px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        overflow: auto;
        margin-right:5px;
        font-style: white;
    }

    .title{
        font-weight: bold;
        font-size: 20px;
        margin-left: 50px; 
        margin-top: 10px;
        margin-bottom: 20px;
    }

    .selected{
        background: rgb(233, 76, 36);
    }

    

</style>
{% endblock %}
